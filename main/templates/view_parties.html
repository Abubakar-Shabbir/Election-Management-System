{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>All Political Parties - Admin Panel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body {
      background: #f0f2f5;
      overflow-x: hidden;
    }

    #loader {
      position: fixed;
      width: 100%;
      height: 100%;
      background: white;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    #loader .spinner-border {
      width: 3rem;
      height: 3rem;
    }

    .fade-in {
      animation: fadeIn 0.6s ease-in forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .sidebar {
      height: 100vh;
      background: #212529;
      color: white;
      position: fixed;
      width: 250px;
      top: 0;
      left: 0;
      padding: 20px;
    }

    .sidebar .nav-link {
      color: #ced4da;
      border-radius: 8px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .sidebar .nav-link:hover {
      background-color: #495057;
      color: white;
    }

    .sidebar .nav-link.active {
      background-color: #0d6efd;
      color: white;
    }

    .content {
      margin-left: 250px;
      padding: 40px 20px;
    }

    .glass-card {
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
      padding: 20px;
    }
  </style>
</head>
<body>



<!-- Sidebar -->
<div class="sidebar d-flex flex-column">
  <h4 class="text-white mb-4"><i class="bi bi-speedometer2 me-2"></i>Admin Panel</h4>
  <ul class="nav nav-pills flex-column">
    <li class="nav-item"><a href="/adminpanel/" class="nav-link"><i class="bi bi-house me-2"></i>Dashboard</a></li>
    <li class="nav-item"><a href="/adminpanel/add-constituency/" class="nav-link"><i class="bi bi-map me-2"></i>Add Constituency</a></li>
    <li class="nav-item"><a href="/adminpanel/add-party/" class="nav-link"><i class="bi bi-flag me-2"></i>Add Party</a></li>
    <li class="nav-item"><a href="/adminpanel/add-candidate/" class="nav-link"><i class="bi bi-person-plus me-2"></i>Add Candidate</a></li>
    <li class="nav-item"><a href="/adminpanel/view-voters/" class="nav-link"><i class="bi bi-person-lines-fill me-2"></i>View Voters</a></li>
    <li class="nav-item"><a href="/adminpanel/view-parties/" class="nav-link active"><i class="bi bi-people-fill me-2"></i>View Parties</a></li>
    <li class="nav-item"><a href="/adminpanel/view-candidates/" class="nav-link"><i class="bi bi-person-badge me-2"></i>View Candidates</a></li>
    <li class="nav-item"><a href="/start-voting/" class="nav-link"><i class="bi bi-toggle-on me-2"></i>Start Voting</a></li>
    <li class="nav-item"><a href="/adminpanel/view_results/" class="nav-link"><i class="bi bi-bar-chart-line me-2"></i>View Results</a></li>
    <li class="nav-item"><a href="/adminpanel/create-election/" class="nav-link"><i class="bi bi-calendar-plus me-2"></i>Create Election</a></li>
    <li class="nav-item mt-auto"><a href="/logout/" class="nav-link text-danger"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
  </ul>
</div>

<!-- Main Content -->
<div class="content fade-in">
  <h3 class="mb-4"><i class="bi bi-people-fill me-2"></i>Registered Political Parties</h3>

  <div class="glass-card">
    <table class="table table-bordered table-striped mb-0">
      <thead class="table-dark">
        <tr>
          <th>Party Name</th>
          <th>Symbol</th>
          <th>Chairman</th>
        </tr>
      </thead>
      <tbody>
        {% for p in parties %}
          <tr>
            <td>{{ p.name }}</td>
            <td>{{ p.symbol }}</td>
            <td>{{ p.leader_name }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Loader Script -->
<script>
  window.addEventListener("load", () => {
    const loader = document.getElementById("loader");
    loader.style.opacity = "0";
    setTimeout(() => loader.style.display = "none", 300);
  });
</script>

</body>
</html>
